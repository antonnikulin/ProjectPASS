'use strict';

let access = false;
let timeout;
let timer = 1800000;

let provide = () => {
    access = true;

    timeout = setTimeout(function () {
        access = false;
    }, timer);
}

let close = () => {
    access = false;
    clearTimeout(timeout);
}

let hasAccess = () => {
    //return true;

    if (access) {
        clearTimeout(timeout);

        timeout = setTimeout(function () {
            access = false;
        }, timer);
    }
    return access;
}

exports.provide = provide;
exports.hasAccess = hasAccess;
exports.close = close;
